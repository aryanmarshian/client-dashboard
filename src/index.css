@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==============================
   Modern Dark Theme
   ============================== */
@layer base {
  :root {
    /* ========================
       Grayscale design tokens
       All colors are shades of gray (Saturation = 0)
       ======================== */

  /* --- Core surfaces (light grayscale theme) --- */
  --background: 0 0% 100%; /* slightly darker page background */
  --foreground: 0 0% 12%;   /* slightly darker text for contrast */

  --card: 0 0% 98%;        /* off-white card surface */
  --card-foreground: 0 0% 12%;

  --popover: 0 0% 96%;
  --popover-foreground: 0 0% 12%;

  /* --- Accents (grayscale-only) --- */
  --primary: 0 0% 84%;    /* darker accent for better contrast */
  --primary-foreground: 0 0% 12%;

  --secondary: 0 0% 76%;
  --secondary-foreground: 0 0% 12%;

  --accent: 0 0% 82%;     /* slightly darker accent */
  --accent-foreground: 0 0% 12%;

    /* --- Supporting --- */
  --muted: 0 0% 84%;
  --muted-foreground: 0 0% 44%;
  --destructive: 0 0% 80%; /* destructive uses darker gray on light bg */
  --destructive-foreground: 0 0% 12%;

  --border: 0 0% 84%;
  --input: 0 0% 94%;
  --ring: 0 0% 78%;

  /* --- Person/Client color tokens (used only for charts) --- */
  --person-1: 31 78% 45%;   /* blue-ish */
  --person-2: 24 85% 50%;   /* orange-ish */
  --person-3: 142 47% 42%;  /* green-ish */
  --person-4: 285 45% 55%;  /* purple-ish */
  --person-5: 340 65% 55%;  /* pink-ish */
  --person-6: 200 60% 45%;  /* cyan-ish */
  --person-7: 12 80% 55%;   /* red/orange */

  /* Stage-specific colors (used for Stage Overview chart) */
  --stage-arrival: 210 100% 56%; /* blue */
  --stage-quoted: 24 85% 50%;    /* orange */
  --stage-won: 142 47% 42%;      /* green */

    --radius: 0.75rem;

  /* Chart palette in shades of gray (light -> dark) */
  --chart-1: 0 0% 86%;
  --chart-2: 0 0% 72%;
  --chart-3: 0 0% 56%;
  --chart-4: 0 0% 40%;
  --chart-5: 0 0% 24%;
  }

  body {
    @apply text-foreground min-h-screen;
    font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;

    /* Apply the radial gradient background */
    background: #83a4d4;  /* fallback for old browsers */
background: -webkit-linear-gradient(to right, #b6fbff, #83a4d4);  /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to right, #b6fbff, #83a4d4); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */

  }
}

/* ==============================
   Components
   ============================== */
@layer components {
  /* Frosted glass card (updated to glass-card design) */
  .card {
    width: 240px;
    height: 360px;
    background: rgba(184, 39, 39, 0.15);
    backdrop-filter: blur(23px);
    -webkit-backdrop-filter: blur(23px);
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.5),
      inset 0 -1px 0 rgba(255, 255, 255, 0.1),
      inset 0 0 24px 12px rgba(255, 255, 255, 1.2);
    position: relative;
    overflow: hidden;
  }
  .card:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 26px rgba(0,0,0,0.5);
  }

  .card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.8),
      transparent
    );
  }

  .card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 1px;
    height: 100%;
    background: linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.8),
      transparent,
      rgba(255, 255, 255, 0.3)
    );
  }

  /* KPI tile */
  .kpi {
    @apply card p-4; /* Slightly tighter for compact look */
  }

  /* Fluid variant of the glass card for wide containers (dialogs, tables, full-width cards) */
  .card--fluid {
    background: rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.22);
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.35),
      inset 0 -1px 0 rgba(255, 255, 255, 0.06);
    position: relative;
    overflow: hidden;
  }
  .kpi-value {
    font-size: 2.25rem;
    font-weight: 700;
    color: hsl(var(--foreground));
  }

  /* Primary button */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-full font-semibold; /* Rounded full for a more modern pill shape, more padding */
    transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .btn-primary {
    background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 100%);
    color: hsl(var(--primary-foreground));
    box-shadow: 0 6px 12px rgba(16,24,32,0.06);
  }
  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 24px hsl(var(--primary) / 0.6);
  }
  .btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 4px 12px hsl(var(--primary) / 0.4);
    filter: brightness(.9);
  }

  /* Input fields */
  .input {
    @apply w-full px-4 py-3 rounded-xl text-base outline-none;
    background: hsl(var(--input));
    border: 1px solid hsl(var(--border));
    color: hsl(var(--foreground));
    transition: border .18s ease, box-shadow .18s ease, background .18s ease;
  }
  .input:focus {
    border-color: hsl(var(--ring));
    box-shadow: 0 0 0 4px hsl(var(--ring) / 0.4), 0 0 16px hsl(var(--ring) / 0.2);
    background: hsla(0,0%,100%,0.08);
  }

  /* Badge */
  .badge {
    @apply px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide; /* Pill shape for a softer look */
  }
  .badge-blue { background: hsl(var(--chart-1) / .16); color: hsl(var(--chart-1)); }
  .badge-teal { background: hsl(var(--chart-2) / .16); color: hsl(var(--chart-2)); }
  .badge-pink { background: hsl(var(--chart-3) / .16); color: hsl(var(--chart-3)); }

  /* Make bg-background transparent so the page background image is visible
     (many UI components use the bg-background utility). This override is
     intentionally specific and can be removed if you prefer selective changes. */
  .bg-background {
    background-color: transparent !important;
  }
  /* Ensure card and white utilities don't block the background image.
     We keep borders and shadows so components still read as elevated, but
     allow the page image to show through. Use selective opacity via
     `.card` or `.card--fluid` for the frosted glass effect. */
  .bg-card {
    background-color: transparent !important;
  }
  .bg-white {
    background-color: transparent !important;
  }
}

/* ==============================
   Utilities / Animations
   ============================== */
@layer utilities {
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(12px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-fadeUp { animation: fadeUp .6s ease-out forwards; } /* Slower, smoother animation */

  /* Neon focus */
  .ring-neon:focus-visible {
    outline: none;
    box-shadow: 0 0 0 5px hsl(var(--ring) / 0.4),
                0 0 20px hsl(var(--ring) / 0.8);
  }

  /* Smooth scrollbar */
  .scroll-smooth::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  .scroll-smooth::-webkit-scrollbar-thumb {
    background: hsl(238 25% 25%); /* Darker, more visible thumb */
    border-radius: 999px;
    border: 2px solid hsl(var(--background)); /* Adds a slight border to distinguish from the track */
  }
  .scroll-smooth::-webkit-scrollbar-track {
    background: transparent;
  }
}